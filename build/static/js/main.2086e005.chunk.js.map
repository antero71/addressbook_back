{"version":3,"sources":["components/Contact.js","components/Notification.js","components/Togglable.js","components/Footer.js","components/LoginForm.js","components/ContactForm.js","services/contacts.js","services/login.js","App.js","index.js"],"names":["Contact","_ref","contact","react_default","a","createElement","name","address","email","phone","Notification","message","className","Togglable","React","forwardRef","props","ref","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","onClick","buttonLabel","children","Footer","color","fontStyle","fontSize","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","id","value","onChange","type","ContactForm","handleNameChange","handleAddressChange","handleEmailChange","handlePhoneChange","token","services_contacts","getAll","asyncToGenerator","regenerator_default","mark","_callee","request","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","apply","this","arguments","create","_ref2","_callee2","newObject","config","response","_context2","headers","Authorization","post","_x","update","put","concat","then","setToken","newToken","services_login","login","credentials","App","contacts","setContacts","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newAddress","setNewAddress","_useState7","_useState8","newEmail","setNewEmail","_useState9","_useState10","newPhone","setNewPhone","_useState11","_useState12","errorMessage","setErrorMessage","_useState13","_useState14","setUsername","_useState15","_useState16","setPassword","_useState17","_useState18","user","setUser","_useState19","_useState20","loginVisible","setLoginVisible","useEffect","contactService","initialContacts","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","event","_user2","preventDefault","loginService","setItem","stringify","t0","setTimeout","_x2","contactFormRef","createRef","components_Notification","components_LoginForm","_ref3","target","_ref4","loginForm","components_Togglable","components_ContactForm","current","contactObject","date","Date","toISOString","console","log","_ref5","_ref6","_ref7","_ref8","map","components_Contact","key","components_Footer","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2086e005.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Contact = ({ contact }) => {\n  return (\n    <dl>\n    <dt>{contact.name}</dt>\n    <dd>{contact.address}</dd>\n    <dd>{contact.email}</dd>\n    <dd>{contact.phone}</dd>\n    </dl>\n  )\n}\n\nexport default Contact","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useImperativeHandle } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible} className=\"togglableContent\">\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nexport default Togglable","import React from \"react\"\n\nconst Footer = () => {\n  const footerStyle = {\n    color: \"green\",\n    fontStyle: \"italic\",\n    fontSize: 16\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      <em>Contacts app, Antero Oikkonen, Helsinki 2019</em>\n    </div>\n  )\n}\n\nexport default Footer\n\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nconst LoginForm = ({\n  handleSubmit,\n  handleUsernameChange,\n  handlePasswordChange,\n  username,\n  password\n}) => {\n  return (\n    <div>\n      <h2>Login</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div>\n          username\n          <input\n            id=\"username\"\n            value={username}\n            onChange={handleUsernameChange}\n          />\n        </div>\n        <div>\n          password\n          <input\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n          />\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </div>\n  )\n}\n\nLoginForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleUsernameChange: PropTypes.func.isRequired,\n  handlePasswordChange: PropTypes.func.isRequired,\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired\n}\n\nexport default LoginForm\n","import React from 'react'\n\nconst ContactForm = ({ onSubmit, \n  handleNameChange, \n  handleAddressChange,\n  handleEmailChange,\n  handlePhoneChange,\n  name, address, email, phone }) => {\n  return (\n    <div>\n      <h2>Create a new contact</h2>\n\n      <form onSubmit={onSubmit}>\n      <div>\n        Name\n        <input\n          name={name}\n          onChange={handleNameChange}\n        />\n        </div>\n        <div>\n          Address\n        \n        <input\n          address={address}\n          onChange={handleAddressChange}\n        />\n        </div>\n        <div>\n          Email\n        <input\n          email={email}\n          onChange={handleEmailChange}\n        />\n        </div>\n        <div>\n          Phone\n          <input\n            phone={phone}\n          onChange={handlePhoneChange}\n        />\n        </div>\n        <button type=\"submit\">save</button>\n      </form>\n    </div>\n  \n  )\n  console.log(name,address)\n}\n\nexport default ContactForm","import axios from \"axios\"\nconst baseUrl = \"/api/contacts\"\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = async () => {\n  const request = await axios.get(baseUrl)\n  return request.data\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${ baseUrl }/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, setToken }","import axios from \"axios\"\nconst baseUrl = \"/api/login\"\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }\n","import React, { useState, useEffect } from \"react\"\nimport Contact from \"./components/Contact\"\nimport Notification from \"./components/Notification\"\nimport Togglable from './components/Togglable'\nimport Footer from \"./components/Footer\"\nimport LoginForm from \"./components/LoginForm\"\nimport ContactForm from \"./components/ContactForm\"\nimport contactService from \"./services/contacts\"\nimport loginService from \"./services/login\"\n\nimport {\n  BrowserRouter as Router,\n  Route, Link, Redirect, withRouter\n} from 'react-router-dom'\n\nconst App = () => {\n  const [contacts, setContacts] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newAddress, setNewAddress] = useState(\"\")\n  const [newEmail, setNewEmail] = useState(\"\")\n  const [newPhone, setNewPhone] = useState(\"\")\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [user, setUser] = useState(null)\n  const [loginVisible, setLoginVisible] = useState(false)\n\n  useEffect(() => {\n    contactService\n      .getAll()\n      .then(initialContacts => setContacts(initialContacts))\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem(\"loggedContactappUser\")\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      contactService.setToken(user.token)\n    }\n  }, [])\n\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    window.localStorage.removeItem(\n      \"loggedContactappUser\", JSON.stringify(user)\n    )\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        \"loggedContactappUser\", JSON.stringify(user)\n      )\n      contactService.setToken(user.token)\n      setUser(user)\n      setUsername(\"\")\n      setPassword(\"\")\n    } catch (exception) {\n      setErrorMessage(\"Wrong credentials\")\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const rows = () => contacts.map(contact => \n    <Contact\n      key={contact.id}\n      contact={contact}\n    />\n  )\n\n  const loginForm = () => {\n    const hideWhenVisible = { display: loginVisible ? \"none\" : \"\" }\n    const showWhenVisible = { display: loginVisible ? \"\" : \"none\" }\n\n    return (\n      <div>\n        <div style={hideWhenVisible}>\n          <button onClick={() => setLoginVisible(true)}>log in</button>\n        </div>\n        <div style={showWhenVisible}>\n          <LoginForm\n            username={username}\n            password={password}\n            handleUsernameChange={({ target }) => setUsername(target.value)}\n            handlePasswordChange={({ target }) => setPassword(target.value)}\n            handleSubmit={handleLogin}\n          />\n          <button onClick={() => setLoginVisible(false)}>cancel</button>\n        </div>\n      </div>\n    )\n  }\n\n  const contactFormRef = React.createRef()\n\n  const addContact = (event) => {\n    event.preventDefault()\n\n    contactFormRef.current.toggleVisibility()\n\n    const contactObject = {\n      name: newName,\n      address: newAddress,\n      email: newEmail,\n      phone: newPhone,\n      date: new Date().toISOString(),\n    }\n\n    console.log('contactObject', contactObject)\n\n    contactService\n      .create(contactObject)\n      .then(data => {\n        setContacts(contacts.concat(data))\n        setNewName('')\n        setNewPhone('')\n        setNewAddress('')\n        setNewEmail('')\n      })\n  }\n\n  return (\n    <div>\n      <h1>Contacts</h1>\n\n      <Notification message={errorMessage} />\n\n      {user === null ?\n        loginForm() :\n        <div>\n          <p>{user.name} logged in</p>\n          <Togglable buttonLabel=\"new contact\" ref={contactFormRef}>\n            <ContactForm\n              onSubmit={addContact}\n              name={newName}\n              address={newAddress}\n              email={newEmail}\n              phone={newPhone}\n              handleNameChange={({ target }) => setNewName(target.value)}\n              handleAddressChange={({ target }) => setNewAddress(target.value)}\n              handleEmailChange={({ target }) => setNewEmail(target.value)}\n              handlePhoneChange={({ target }) => setNewPhone(target.value)}\n            />\n          </Togglable>\n        </div>\n      }\n      <ul>\n        {rows()}\n      </ul>\n\n      <Footer />\n    </div>\n  )\n}\n\nexport default App","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport \"./index.css\"\n\nReactDOM.render(\n  <App />,\n  document.getElementById(\"root\")\n)"],"sourceRoot":""}